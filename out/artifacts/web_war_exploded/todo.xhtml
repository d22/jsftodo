<ui:composition template="template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:cust="http://java.sun.com/jsf/composite/comp"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">
	<ui:define name="content">

		<div class="row">
			<div class="col-md-offset-3 col-md-6">
				<h:form styleClass="form-horizontal">
					<ul class="todoList">
						<ui:repeat value="#{todoListBean.todoList}" var="todo">
							<cust:todoEntry todo="#{todo}"/>
						</ui:repeat>

						<li>
							<div class="row">
								<div class="col-md-9">
									<h:inputText styleClass="newTodoInput form-control" id="newTodo"
									             value="#{todoBean.text}"
									             required="true"
									             requiredMessage="This filed is mandatory!">
										<f:validator for="newTodo"
										             validatorId="ch.dllnskt.todo.validators.TodoNameValidator"/>
									</h:inputText>
								</div>
								<div class="col-md-3">
									<h:commandButton styleClass="newTodoButton form-control btn-primary"
									                 action="#{todoListBean.add(todoBean)}" value="Add">
										<f:ajax event="action" execute="@form" render="@form"/>
									</h:commandButton>
								</div>
								<p class="error">
									<h:message for="newTodo"/>
								</p>
							</div>
						</li>

					</ul>
				</h:form>
			</div>
		</div>

	</ui:define>
</ui:composition>
